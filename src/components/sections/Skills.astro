---
import { skills, categoryLabels } from "@/data/skills";

const categories = [...new Set(skills.map(s => s.category))];
---

<section id="skills" class="py-10">
  <div class="mb-6 flex items-center gap-3">
    <h2 class="text-sm font-bold tracking-widest text-accent uppercase">Kỹ năng</h2>
    <div class="h-px flex-1 bg-border/20"></div>
  </div>

  <div class="space-y-6">
    {categories.map(cat => (
      <div>
        <p class="mb-3 font-cartograph text-xs text-muted-foreground uppercase tracking-wider">
          {categoryLabels[cat]}
        </p>
        <div class="flex flex-wrap gap-2">
          {skills
            .filter(s => s.category === cat)
            .map(skill => (
              <span
                class:list={[
                  "inline-flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-sm font-medium transition-all duration-200 hover:-translate-y-0.5",
                  {
                    "border-accent/30 bg-accent/10 text-accent hover:border-accent/60 hover:bg-accent/20": skill.level === "expert",
                    "border-border/40 bg-muted/20 text-foreground hover:border-accent/30 hover:text-accent": skill.level === "advanced",
                    "border-border/20 bg-muted/10 text-muted-foreground hover:border-border/40 hover:text-foreground": skill.level === "intermediate",
                  },
                ]}
              >
                {skill.name}
                {skill.level === "expert" && (
                  <span class="h-1.5 w-1.5 rounded-full bg-accent opacity-80"></span>
                )}
              </span>
            ))}
        </div>
      </div>
    ))}
  </div>

  <p class="mt-4 font-cartograph text-xs text-muted-foreground/50">
    <span class="inline-flex items-center gap-1">
      <span class="h-1.5 w-1.5 rounded-full bg-accent"></span> Expert
    </span>
    {" · "}Không có dot = Advanced / Intermediate
  </p>
</section>
